/*
* jQuery NOs 0.9.9
*
* Dual licensed under the MIT or GPL Version 2 licenses.
*/
(function($,undefined){window.NosUIApp={namespace:"nosui",defineOptions:function(defaults,options){if(typeof options!=="object"&&typeof defaults!=="object")return{};else if(typeof options==="object"&&typeof defaults==="object"){$.extend(true,defaults,options);if(typeof defaults.elAttrNames==="object"&&typeof defaults.namespace==="string")NosUIApp.applyCssNamespace(defaults.elAttrNames,defaults.namespace);return defaults}else if(typeof options!=="object"){if(typeof defaults.elAttrNames==="object"&&
typeof defaults.namespace==="string")NosUIApp.applyCssNamespace(defaults.elAttrNames,defaults.namespace);return defaults}else if(typeof defaults!=="object")return options},matchElType:function($elType,$el){var el=$el.get(0);if(!$elType.filter($el).length){var elSelector=NosUIApp.getFullElSelector($el);throw new Error("Incorrect element type targetted with the NOS-UI script. Element: "+elSelector+". Or a jQuery object not yet attached to the DOM is being used.");}},getFullElSelector:function($el){var el=
$el.get(0),elAttrId=el.id,elIdSelector=elAttrId!==""?"#"+elAttrId:"",elAttrClass=el.getAttribute("class"),elClassSelector=elAttrClass?"."+elAttrClass.trim().split(" ").join("."):"",elSelector=elIdSelector+elClassSelector;return elSelector},form:{isDisabled:function($el,$fauxEl,className){if(typeof $el=="undefined")throw new Error("missing $el parameter");else if(typeof $fauxEl=="undefined")throw new Error("missing $fauxEl parameter");else if(typeof className=="undefined")throw new Error("missing className parameter");
if($el.prop("disabled")){$fauxEl.addClass(className);return true}else{$fauxEl.removeClass(className);return false}}},applyCssNamespace:function(elAttrNames,nameSpace){$.each(elAttrNames,function(k,v){if(typeof v==="object"&&v!==null)NosUIApp.applyCssNamespace(elAttrNames[k],nameSpace);else if(typeof v==="string")elAttrNames[k]=nameSpace+v})},elList:{responsiveImages:[]}};$.fn.extend({nosInputPlaceholder:function(options,disableMethod){return this.each(function(){var defaults={elAttrNames:{elClass:"",
hasPlaceholderClass:"--placeholder-active"},namespace:"nosui-input-placeholder",placeholder:null},o=NosUIApp.defineOptions(defaults,options),$el=$(this);NosUIApp.matchElType($("input"),$el);if(typeof o.placeholder==="string")$el.attr("placeholder",o.placeholder);var val=$el.attr("placeholder");if(typeof val!=="string")return;function focusInput(){if(typeof o.onFocus==="function")o.onFocus($el);if($el.val()==val)$el.removeClass(o.elAttrNames.hasPlaceholderClass).val("")}function blurInput(){if(typeof o.onBlur===
"function")o.onBlur($el);if($el.val()=="")$el.addClass(o.elAttrNames.hasPlaceholderClass).val(val)}blurInput();$el.off({"focus.nosui-placeholder":focusInput,"blur.nosui-placeholder":blurInput});if(disableMethod===true)return;$el.on({"focus.nosui-placeholder":focusInput,"blur.nosui-placeholder":blurInput})})},nosFormSelect:function(options,disableMethod){return this.each(function(){var defaults={elAttrNames:{typeDefault:{"defaultClass":"--default"},typeCustom:{"defaultClass":"--custom","dataSelected":"-selected",
"listClass":"__list","itemClass":"__item","activeItemClass":"__item--active","firstItemClass":"__item--first","lastItemClass":"__item--last"},"elClass":"-element","fauxElClass":"","activeClass":"--active","mousedownClass":"--mousedown","disabledClass":"--disabled","dropdownButtonClass":"__dropdown-button","placeholderClass":"__placeholder","dataName":"-type"},namespace:"nosui-form-select",defaultDropdown:false,isOpen:false,onInit:null,onClick:null,onChange:null,onMousedown:null,onBlur:null},$el=$(this),
o=NosUIApp.defineOptions(defaults,options);NosUIApp.matchElType($("select"),$el);if(disableMethod===true&&$el.data(o.elAttrNames.dataName)=="default"){$el.siblings().remove().end().removeClass(o.elAttrNames.elClass).data(o.elAttrNames.dataName,null).off({"click.nosui-form-select":null,"change.nosui-form-select":null,"blur.nosui-form-select":null}).unwrap();return}else if(disableMethod===true&&$el.data(o.elAttrNames.dataName)=="custom"){$el.removeClass(o.elAttrNames.elClass).data(o.elAttrNames.dataName,
null).show();$el.prev().off().find("."+o.elAttrNames.typeCustom.itemClass).off().end().remove();return}else if(disableMethod===true)return;var $elOptions=$el.find("option"),$selectedOption=$elOptions.filter(function(){return $(this).prop("selcted")===true});$el.addClass(o.elAttrNames.elClass);if(o.defaultDropdown==true){$el.data(o.elAttrNames.dataName,"default").addClass(o.elAttrNames.elClass).wrap($("<div />",{"class":o.elAttrNames.fauxElClass+" "+o.elAttrNames.typeDefault.defaultClass,"id":$el.attr("id")?
o.elAttrNames.fauxElClass+"-"+$el.attr("id"):""}));var elName=$el.attr("name")?$el.attr("name"):null;$fauxSelect=$el.parent();$fauxSelect.data("name",elName);var placeholderText=$selectedOption.length?$selectedOption.text():$elOptions.first().text(),$placeholder=$("<div />",{"class":o.elAttrNames.placeholderClass,"text":placeholderText}).prependTo($fauxSelect),$dropdownButton=$("<div />",{"class":o.elAttrNames.dropdownButtonClass}).insertAfter($placeholder);NosUIApp.form.isDisabled($el,$fauxSelect,
o.elAttrNames.disabledClass);if(typeof o.onInit==="function")o.onInit($el,$fauxSelect,o);$el.on({"focus.nosui-form-select":function(e){NosUIApp.form.isDisabled($el,$fauxSelect,o.elAttrNames.disabledClass);$fauxSelect.toggleClass(o.elAttrNames.activeClass);if(typeof o.onClick==="function")o.onClick($el,$fauxSelect,o)},"change.nosui-form-select":function(e){var text=$el.find(":selected").text();$placeholder.text(text);if(typeof o.onChange==="function")o.onChange($el,$fauxSelect,o)},"blur.nosui-form-select":function(e){$fauxSelect.removeClass(o.elAttrNames.activeClass);
if(typeof o.onBlur==="function")o.onBlur($el,$fauxSelect,o)}})}else{$el.data(o.elAttrNames.dataName,"custom");function toggleDropdown($fauxSelect){if(o.isOpen==false)showDropdown($fauxSelect);else hideDropdown($fauxSelect)}function showDropdown($fauxSelect){$fauxSelect.addClass(o.elAttrNames.activeClass);$fauxSelectList.show();$("body").on("mousedown.nosui-form-select",function(e){hideDropdown($fauxSelect)});o.isOpen=true}function hideDropdown($fauxSelect){$fauxSelectList.hide();o.isOpen=false;$("body").off("mousedown.nosui-form-select");
$fauxSelect.removeClass(o.elAttrNames.activeClass)}var elName=$el.attr("name")?$el.attr("name"):null,$fauxSelect=$("<div />",{"class":o.elAttrNames.fauxElClass+" "+o.elAttrNames.typeCustom.defaultClass,"id":$el.attr("id")?o.elAttrNames.fauxElClass+"-"+$el.attr("id"):""}).data("name",elName);NosUIApp.form.isDisabled($el,$fauxSelect,o.elAttrNames.disabledClass);$el.hide().before($fauxSelect);var $fauxSelectList=$("<div />",{"class":o.elAttrNames.typeCustom.listClass}).appendTo($fauxSelect).hide(),$dropdownButton=
$("<div />",{"class":o.elAttrNames.dropdownButtonClass}).appendTo($fauxSelect);$elOptions.each(function(i){$("<div />",{"class":i==0?o.elAttrNames.typeCustom.activeItemClass+" "+o.elAttrNames.typeCustom.itemClass:o.elAttrNames.typeCustom.itemClass,"text":$(this).text()}).data(NosUIApp.namespace+"-selected",$(this).prop("selected")).appendTo($fauxSelectList)});var $fauxOptions=$fauxSelect.find("."+o.elAttrNames.typeCustom.itemClass),$fauxSelectedOption=$fauxOptions.filter(function(){return $(this).data(NosUIApp.namespace+
"-selected")});$fauxOptions.first().addClass(o.elAttrNames.typeCustom.firstItemClass);$fauxOptions.last().addClass(o.elAttrNames.typeCustom.lastItemClass);if(!$fauxSelectedOption.length)$fauxSelectedOption=$fauxOptions.eq(0);var $placeholder=$("<div />",{"class":o.elAttrNames.placeholderClass,"text":$fauxSelectedOption.text()}).insertBefore($fauxSelectList);NosUIApp.form.isDisabled($el,$fauxSelect,o.elAttrNames.disabledClass);if(typeof o.onInit==="function")o.onInit($el,$fauxSelect,o);$fauxSelect.on({"click.nosui-form-select":function(e){if(NosUIApp.form.isDisabled($el,
$fauxSelect,o.elAttrNames.disabledClass)===true)return;if(typeof o.onClick==="function")o.onClick($el,$fauxSelect,o);toggleDropdown($fauxSelect)},"mousedown.nosui-form-select":function(e){if(NosUIApp.form.isDisabled($el,$fauxSelect,o.elAttrNames.disabledClass))return;if(o.isOpen)e.stopPropagation();$fauxSelect.addClass(o.elAttrNames.mousedownClass);$("body").on("mouseup.nosui-form-select",function(e){$fauxSelect.removeClass(o.elAttrNames.mousedownClass);$("body").off("mouseup.nosui-form-select")});
if(typeof o.onMousedown==="function")o.onMousedown($el,$fauxSelect,o)},"mouseup.nosui-form-select":function(e){$fauxSelect.removeClass(o.elAttrNames.mousedownClass);$("body").off("mouseup.nosui-form-select")}});$fauxOptions.on({"mousedown.nosui-form-select":function(e){var $this=$(this),index=$this.index(),text=$this.text();$this.addClass(o.elAttrNames.typeCustom.activeItemClass).data("nosui-selected","selected").siblings().removeClass(o.elAttrNames.typeCustom.activeItemClass).data("nosui-selected",
null);$placeholder.text(text);$elOptions.prop("selected",false).eq(index).prop("selected",true);$fauxOptions.data(NosUIApp.namespace+"selected",false).eq(index).data(NosUIApp.namespace+"selected",true);$el.change();if(typeof o.onChange==="function")o.onChange($el,$fauxSelect,o)}})}})},nosInputCheckbox:function(options,disableMethod){return this.each(function(){var defaults={elAttrNames:{"fauxElClass":"","disabledClass":"--disabled","checkedClass":"--checked","mousedownClass":"--mousedown"},namespace:"nosui-form-checkbox",
onInit:null,onClick:null,onMousedown:null},o=NosUIApp.defineOptions(defaults,options),$el=$(this);NosUIApp.matchElType($('input[type="checkbox"]'),$el);if(disableMethod===true){$el.prev("."+o.elAttrNames.fauxElClass).off().remove();$el.show();return}var $fauxCheckbox=$("<div />",{"class":o.elAttrNames.fauxElClass+" "+o.elAttrNames.inputClass}).data("nosui-checked",$el.prop("checked")).insertBefore($el.hide());NosUIApp.form.isDisabled($el,$fauxCheckbox,o.elAttrNames.disabledClass);if($el.prop("checked"))$fauxCheckbox.addClass(o.elAttrNames.checkedClass);
if(typeof o.onInit==="function")o.onInit($el,$fauxCheckbox,options);$fauxCheckbox.on({"click.nosui":function(e){if(NosUIApp.form.isDisabled($el,$fauxCheckbox,o.elAttrNames.disabledClass))return;var $this=$(this);$this.toggleClass(o.elAttrNames.checkedClass);if($el.prop("checked")){$el.prop("checked",false);$this.data("nosui-checked",false)}else{$el.prop("checked",true);$this.data("nosui-checked",true)}if(typeof o.onClick==="function")o.onClick($el,$fauxCheckbox,options)},"mousedown.nosui":function(e){if(NosUIApp.form.isDisabled($el,
$fauxCheckbox,o.elAttrNames.disabledClass))return;$fauxCheckbox.addClass(o.elAttrNames.mousedownClass);$("body").on("mouseup.nosui",function(e){$fauxCheckbox.removeClass(o.elAttrNames.mousedownClass);$("body").off("mouseup.nosui")});if(typeof o.onMousedown==="function")o.onMousedown($el,$fauxCheckbox,options)},"mouseup.nosui":function(e){$fauxCheckbox.removeClass(o.elAttrNames.mousedownClass);$("body").off("mouseup.nosui")}})})},nosInputRadio:function(options,disableMethod){return this.each(function(i,
el){var defaults={elAttrNames:{"fauxElClass":"","inputClass":"-text","disabledClass":"--disabled","checkedClass":"--checked","mousedownClass":"--mousedown"},namespace:"nosui-form-radio",onInit:null,onClick:null,onMousedown:null},o=NosUIApp.defineOptions(defaults,options),$el=$(el);NosUIApp.matchElType($('input[type="radio"]'),$el);if(disableMethod===true){$el.prev("."+o.elAttrNames.fauxElClass).off().remove();$el.show();return}var elName=$el.attr("name"),$elContainerForm=$el.closest("form").length?
$el.closest("form"):$("body"),$elSiblings=$elContainerForm.find('input[type="radio"]').filter(function(){return $(this).attr("name")==elName}).not($el),$fauxRadio=$("<div />",{"class":o.elAttrNames.fauxElClass}).data(NosUIApp.namespace+"-name",elName).data(NosUIApp.namespace+"-checked",$el.prop("checked")).insertBefore($el.hide());if($fauxRadio.data(NosUIApp.namespace+"-checked"))$fauxRadio.addClass(o.elAttrNames.checkedClass);if(NosUIApp.form.isDisabled($el,$fauxRadio,o.elAttrNames.disabledClass))return;
if(typeof o.onInit==="function")o.onInit($el,$fauxRadio,o);$fauxRadio.on({"click.nosui":function(e){if(NosUIApp.form.isDisabled($el,$fauxRadio,o.elAttrNames.disabledClass))return;var $fauxSiblings=$elContainerForm.find("."+o.elAttrNames.fauxElClass).filter(function(){if($(this).data(NosUIApp.namespace+"-name")==elName)return true;else return false}).not($fauxRadio);$fauxRadio.addClass(o.elAttrNames.checkedClass);$fauxSiblings.removeClass(o.elAttrNames.checkedClass);$el.prop("checked",true);$fauxRadio.data(NosUIApp.namespace+
"-checked",true);$elSiblings.prop("checked",false);$fauxSiblings.data(NosUIApp.namespace+"-checked",false);if(typeof o.onClick==="function")o.onClick($el,$fauxRadio,o)},"mousedown.nosui":function(e){if(NosUIApp.form.isDisabled($el,$fauxRadio,o.elAttrNames.disabledClass))return;$fauxRadio.addClass(o.elAttrNames.mousedownClass);$("body").on("mouseup.nosui",function(e){$fauxRadio.removeClass(o.elAttrNames.mousedownClass);$("body").off("mouseup.nosui")});if(typeof o.onMousedown==="function")o.onMousedown($el,
$fauxRadio,o)},"mouseup.nosui":function(e){$fauxRadio.removeClass(o.elAttrNames.mousedownClass);$("body").off("mouseup.nosui")}})})},nosInputFile:function(options,disableMethod){return this.each(function(){var defaults={elAttrNames:{"elClass":"__element","fauxElClass":"","disabledClass":"--disabled","buttonClass":"__button","placeholderClass":"__placeholder"},namespace:"nosui-form-file",placeholderText:"No file chosen",buttonText:"Choose File",onInit:null,onChange:null},o=NosUIApp.defineOptions(defaults,
options),$el=$(this);NosUIApp.matchElType($('input[type="file"]'),$el);if(disableMethod===true){$el.off("change.nosui").removeClass(o.elAttrNames.elClass).siblings().remove().end().unwrap("."+o.elAttrNames.fauxElClass);return}$el.addClass(o.elAttrNames.elClass);var $fauxInputFile=$("<div />",{"class":o.elAttrNames.fauxElClass}),$placeholder=$("<div />",{"class":o.elAttrNames.placeholderClass,"text":o.placeholderText}),$button=$("<div />",{"class":o.elAttrNames.buttonClass,"text":o.buttonText});NosUIApp.form.isDisabled($el,
$fauxInputFile,o.elAttrNames.disabledClass);$el.wrap($fauxInputFile).before($placeholder,$button);if(typeof o.onInit==="function")o.onInit($el,$fauxCheckbox,o);$el.on({"change.nosui":function(){$placeholder.text($el.val());if(typeof o.onChange==="function")o.onChange($el,$fauxInputFile,o)}})})},nosTooltip:function(options){return this.each(function(){var defaults={elAttrNames:{"popup":"nosui-tooltip__popup","container":"nosui-tooltip","dataName":"nosui-tooltip"},text:null},o=NosUIApp.defineOptions(defaults,
options),$el=$(this),$container=$("<div />",{"class":o.elAttrNames.container}),$tooltip=$("<div />",{"class":o.elAttrNames.popup,"text":o.text?o.text:$el.data(o.elAttrNames.dataName)});$el.wrap($container).after($tooltip)})},nosResponsiveImages:function(options,disableMethod){var minResponsiveWidth=0;function setDataAttr($el){var responsiveStateList=[],attrList=$el.get(0).attributes,attrMap={};for(a=0;a<attrList.length;a++){var attrKey=attrList[a].name.toLowerCase(),attrVal=attrList[a].value;if(attrKey.indexOf("data-")!==
-1)attrKey=attrKey.substring(5);else continue;$el.data(attrKey);attrMap[attrKey]=attrVal}if(!jQuery.isEmptyObject(attrMap)){$el.data("src-"+minResponsiveWidth,$el.attr("src"));attrMap["src-"+minResponsiveWidth]=$el.attr("src")}return!jQuery.isEmptyObject(attrMap)}function setImage(){var windowWidth=$(window).width();$.each(NosUIApp.elList.responsiveImages,function(i,$respEl){var dataAttr=$respEl.data(),activeResponsiveWidth=minResponsiveWidth;$.each(dataAttr,function(k,v){var keyWidth=parseFloat(k.substring(3));
if(keyWidth>activeResponsiveWidth&&keyWidth<windowWidth)activeResponsiveWidth=keyWidth});var newSrc=$respEl.data("src-"+activeResponsiveWidth);$respEl.attr("src",newSrc)})}var $window=$(window),windowWidth=$window.width(),lastElIndex=this.length-1,scrollTimeout;$window.off("resize.nosui-responsive-image").on("resize.nosui-responsive-image",function(){if(typeof scrollTimeout!=="undefined")window.clearTimeout(scrollTimeout);scrollTimeout=window.setTimeout(setImage,200)});return this.each(function(i,
$el){var defaults={elAttrNames:{"elClass":""},minResponsiveWidth:0,namespace:"nosui-responsive-image"},o=NosUIApp.defineOptions(defaults,options),$el=$(this);if(disableMethod){$el.attr("src",$el.data("src-"+minResponsiveWidth)).removeClass(o.elAttrNames.elClass);NosUIApp.elList.responsiveImages=$.grep(NosUIApp.elList.responsiveImages,function($grepEl,i){return $grepEl.get(0)!==$el.get(0)});return}var elAttributesExist=setDataAttr($el);if(elAttributesExist===false)return;$el.addClass(o.elAttrNames.elClass);
NosUIApp.matchElType($("img"),$el);NosUIApp.elList.responsiveImages.push($el);if(i===lastElIndex)setImage()})},nosInputRange:function(options,disableMethod){return this.each(function(){var defaults={elAttrNames:{"elClass":"-element","fauxElClass":"","container":"","sliderClass":"__slider","handleClass":"__handle"},namespace:"nosui-input-range",timeoutThrottle:0,onInit:null,onChange:null},$el=$(this),o=NosUIApp.defineOptions(defaults,options);NosUIApp.matchElType($("input"),$el);if(disableMethod===
true){$el.prev().off().children().off();$el.prev().remove();return}o.stepVal=$el.attr("step")?parseFloat($el.attr("step")):1;o.minVal=$el.attr("min")?parseFloat($el.attr("min")):0;o.maxVal=$el.attr("max")?parseFloat($el.attr("max")):100;if(o.minVal>o.maxVal)o.maxVal=o.minVal;o.valueVal=$el.val()?parseFloat($el.val()):o.minVal+(o.maxVal-o.minVal)/2;elValueFilter();var $body=$("body"),$fauxEl=$("<div />",{"class":o.elAttrNames.fauxElClass}),$slider=$("<div />",{"class":o.elAttrNames.sliderClass}).appendTo($fauxEl),
$handle=$("<div />",{"class":o.elAttrNames.handleClass}).appendTo($fauxEl);function elValueFilter(){if(o.valueVal<o.minVal){o.valueVal=o.minVal;$el.val(o.valueVal)}else if(o.valueVal>o.maxVal){o.valueVal=o.maxVal;$el.val(o.valueVal)}}function nextStep(percVal){var stepPerc=o.stepVal/(o.maxVal-o.minVal)*100,rem=percVal%stepPerc;if(rem<=stepPerc/2)return percVal-rem;else return percVal+stepPerc-rem}function setPosition(xPos){var fauxElWidth=$fauxEl.width(),xPerc=xPos/fauxElWidth*100,xPerc=nextStep(xPerc);
if(xPerc<0)xPerc=0;else if(xPerc>100)xPerc=100;o.valueVal=Math.round((o.maxVal-o.minVal)*xPerc/100+o.minVal);elValueFilter();$el.val(o.valueVal).trigger("change");$handle.css("left",xPerc+"%");if(typeof o.onChange==="function")o.onChange($el,$fauxEl,o)}function reflectInputVal(e){o.valueVal=$el.val();elValueFilter();var valPos=nextStep((o.valueVal-o.minVal)/(o.maxVal-o.minVal)*100);$handle.css("left",valPos+"%")}function init(){$el.hide().addClass(o.elAttrNames.elClass).val(o.valueVal).on({"change.nosui":reflectInputVal});
$fauxEl.on({"click.nosui":function(e){var xPos=e.pageX-$fauxEl.offset().left;setPosition(xPos)}}).insertBefore($el);reflectInputVal(o.valueVal);$handle.on({"click.nosui":function(e){e.preventDefault();e.stopPropagation()},"mousedown.nosui":function(e){e.preventDefault();$el.off("change.nosui");var handleOffset=e.pageX-$handle.offset().left;$body.on({"mousemove.nosui":function(e){e.preventDefault();if(typeof o.timeoutThrottle!=="undefined")window.clearTimeout(o.timeoutThrottle);o.timeoutThrottle=window.setTimeout(function(){var xPos=
e.pageX-$fauxEl.offset().left;setPosition(xPos)},5)}});$body.on("mouseup.nosui",function(){$body.off("mousemove.nosui");$body.off("mouseup.nosui");$el.on("change.nosui",reflectInputVal)})}});if(typeof o.onInit==="function")o.onInit($el,$fauxEl,o)}init()})}})})(jQuery);