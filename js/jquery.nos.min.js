/*
* jQuery NOs 0.9.3
*
* Dual licensed under the MIT or GPL Version 2 licenses.
*/
!function(b){window.NosUIApp={namespace:"nosui",defineOptions:function(a,c){return"object"!=typeof c&&"object"!=typeof a?{}:"object"==typeof c&&"object"==typeof a?(b.extend(!0,a,c),"object"==typeof a.elAttrNames&&"string"==typeof a.namespace&&NosUIApp.applyCssNamespace(a.elAttrNames,a.namespace),a):"object"!=typeof c?("object"==typeof a.elAttrNames&&"string"==typeof a.namespace&&NosUIApp.applyCssNamespace(a.elAttrNames,a.namespace),a):"object"!=typeof a?c:void 0},matchElType:function(a,b){if(b.get(0),!a.filter(b).length){var d=NosUIApp.getFullElSelector(b);throw new Error("Incorrect element type targetted with the NOS-UI script. Element: "+d+". Or a jQuery object not yet attached to the DOM is being used.")}},getFullElSelector:function(a){var b=a.get(0),c=b.id,d=""!==c?"#"+c:"",e=b.getAttribute("class"),f=e?"."+e.trim().split(" ").join("."):"",g=d+f;return g},form:{isDisabled:function(a,b,c){if("undefined"==typeof a)throw new Error("missing $el parameter");if("undefined"==typeof b)throw new Error("missing $fauxEl parameter");if("undefined"==typeof c)throw new Error("missing className parameter");return a.prop("disabled")?(b.addClass(c),!0):(b.removeClass(c),!1)}},applyCssNamespace:function(a,c){b.each(a,function(b,d){"object"==typeof d&&null!==d?NosUIApp.applyCssNamespace(a[b],c):"string"==typeof d&&(a[b]=c+d)})},elList:{responsiveImages:[]}},b.fn.extend({nosInputPlaceholder:function(a,c){return this.each(function(){function h(){"function"==typeof e.onFocus&&e.onFocus(f),f.val()==g&&f.val("")}function i(){"function"==typeof e.onBlur&&e.onBlur(f),""==f.val()&&f.val(g)}var d={placeholder:null},e=NosUIApp.defineOptions(d,a),f=b(this);NosUIApp.matchElType(b("input"),f),"string"==typeof e.placeholder&&f.attr("placeholder",e.placeholder);var g=f.attr("placeholder");"string"==typeof g&&(f.val(g),f.off({"focus.nosui-placeholder":h,"blur.nosui-placeholder":i}),c!==!0&&f.on({"focus.nosui-placeholder":h,"blur.nosui-placeholder":i}))})},nosFormSelect:function(a,c){return this.each(function(){function m(a){0==f.isOpen?n(a):o(a)}function n(a){a.addClass(f.elAttrNames.activeClass),q.show(),b("body").on("mousedown.nosui-form-select",function(){o(a)}),f.isOpen=!0}function o(a){q.hide(),f.isOpen=!1,b("body").off("mousedown.nosui-form-select"),a.removeClass(f.elAttrNames.activeClass)}var d={elAttrNames:{typeDefault:{defaultClass:"--default"},typeCustom:{defaultClass:"--custom",dataSelected:"-selected",listClass:"__list",itemClass:"__item",activeItemClass:"__item--active",firstItemClass:"__item--first",lastItemClass:"__item--last"},elClass:"-element",fauxElClass:"",activeClass:"--active",mousedownClass:"--mousedown",disabledClass:"--disabled",dropdownButtonClass:"__dropdown-button",placeholderClass:"__placeholder",dataName:"-type"},namespace:"nosui-form-select",defaultDropdown:!1,isOpen:!1,onInit:null,onClick:null,onChange:null,onMousedown:null,onBlur:null},e=b(this),f=NosUIApp.defineOptions(d,a);if(NosUIApp.matchElType(b("select"),e),c===!0&&"default"==e.data(f.elAttrNames.dataName))return e.siblings().remove().end().removeClass(f.elAttrNames.elClass).data(f.elAttrNames.dataName,null).off({"click.nosui-form-select":null,"change.nosui-form-select":null,"blur.nosui-form-select":null}).unwrap(),void 0;if(c===!0&&"custom"==e.data(f.elAttrNames.dataName))return e.removeClass(f.elAttrNames.elClass).data(f.elAttrNames.dataName,null).show(),e.prev().off().find("."+f.elAttrNames.typeCustom.itemClass).off().end().remove(),void 0;if(c!==!0){var g=e.find("option"),h=g.filter(function(){return b(this).prop("selcted")===!0});if(e.addClass(f.elAttrNames.elClass),1==f.defaultDropdown){e.data(f.elAttrNames.dataName,"default").addClass(f.elAttrNames.elClass).wrap(b("<div />",{"class":f.elAttrNames.fauxElClass+" "+f.elAttrNames.typeDefault.defaultClass,id:e.attr("id")?f.elAttrNames.fauxElClass+"-"+e.attr("id"):""}));var i=e.attr("name")?e.attr("name"):null;p=e.parent(),p.data("name",i);var j=h.length?h.text():g.first().text(),k=b("<div />",{"class":f.elAttrNames.placeholderClass,text:j}).prependTo(p);b("<div />",{"class":f.elAttrNames.dropdownButtonClass}).insertAfter(k),NosUIApp.form.isDisabled(e,p,f.elAttrNames.disabledClass),"function"==typeof f.onInit&&f.onInit(e,p,f),e.on({"focus.nosui-form-select":function(){NosUIApp.form.isDisabled(e,p,f.elAttrNames.disabledClass),p.toggleClass(f.elAttrNames.activeClass),"function"==typeof f.onClick&&f.onClick(e,p,f)},"change.nosui-form-select":function(){var b=e.find(":selected").text();k.text(b),"function"==typeof f.onChange&&f.onChange(e,p,f)},"blur.nosui-form-select":function(){p.removeClass(f.elAttrNames.activeClass),"function"==typeof f.onBlur&&f.onBlur(e,p,f)}})}else{e.data(f.elAttrNames.dataName,"custom");var i=e.attr("name")?e.attr("name"):null,p=b("<div />",{"class":f.elAttrNames.fauxElClass+" "+f.elAttrNames.typeCustom.defaultClass,id:e.attr("id")?f.elAttrNames.fauxElClass+"-"+e.attr("id"):""}).data("name",i);NosUIApp.form.isDisabled(e,p,f.elAttrNames.disabledClass),e.hide().before(p);var q=b("<div />",{"class":f.elAttrNames.typeCustom.listClass}).appendTo(p).hide();b("<div />",{"class":f.elAttrNames.dropdownButtonClass}).appendTo(p),g.each(function(a){b("<div />",{"class":0==a?f.elAttrNames.typeCustom.activeItemClass+" "+f.elAttrNames.typeCustom.itemClass:f.elAttrNames.typeCustom.itemClass,text:b(this).text()}).data(NosUIApp.namespace+"-selected",b(this).prop("selected")).appendTo(q)});var r=p.find("."+f.elAttrNames.typeCustom.itemClass),s=r.filter(function(){return b(this).data(NosUIApp.namespace+"-selected")});r.first().addClass(f.elAttrNames.typeCustom.firstItemClass),r.last().addClass(f.elAttrNames.typeCustom.lastItemClass),s.length||(s=r.eq(0));var k=b("<div />",{"class":f.elAttrNames.placeholderClass,text:s.text()}).insertBefore(q);NosUIApp.form.isDisabled(e,p,f.elAttrNames.disabledClass),"function"==typeof f.onInit&&f.onInit(e,p,f),p.on({"click.nosui-form-select":function(){NosUIApp.form.isDisabled(e,p,f.elAttrNames.disabledClass)!==!0&&("function"==typeof f.onClick&&f.onClick(e,p,f),m(p))},"mousedown.nosui-form-select":function(a){NosUIApp.form.isDisabled(e,p,f.elAttrNames.disabledClass)||(f.isOpen&&a.stopPropagation(),p.addClass(f.elAttrNames.mousedownClass),b("body").on("mouseup.nosui-form-select",function(){p.removeClass(f.elAttrNames.mousedownClass),b("body").off("mouseup.nosui-form-select")}),"function"==typeof f.onMousedown&&f.onMousedown(e,p,f))},"mouseup.nosui-form-select":function(){p.removeClass(f.elAttrNames.mousedownClass),b("body").off("mouseup.nosui-form-select")}}),r.on({"mousedown.nosui-form-select":function(){var c=b(this),d=c.index(),h=c.text();c.addClass(f.elAttrNames.typeCustom.activeItemClass).data("nosui-selected","selected").siblings().removeClass(f.elAttrNames.typeCustom.activeItemClass).data("nosui-selected",null),k.text(h),g.prop("selected",!1).eq(d).prop("selected",!0),r.data(NosUIApp.namespace+"selected",!1).eq(d).data(NosUIApp.namespace+"selected",!0),e.change(),"function"==typeof f.onChange&&f.onChange(e,p,f)}})}}})},nosInputCheckbox:function(a,c){return this.each(function(){var d={elAttrNames:{fauxElClass:"",disabledClass:"--disabled",checkedClass:"--checked",mousedownClass:"--mousedown"},namespace:"nosui-form-checkbox",onInit:null,onClick:null,onMousedown:null},e=NosUIApp.defineOptions(d,a),f=b(this);if(NosUIApp.matchElType(b('input[type="checkbox"]'),f),c===!0)return f.prev("."+e.elAttrNames.fauxElClass).off().remove(),f.show(),void 0;var g=b("<div />",{"class":e.elAttrNames.fauxElClass+" "+e.elAttrNames.inputClass}).data("nosui-checked",f.prop("checked")).insertBefore(f.hide());NosUIApp.form.isDisabled(f,g,e.elAttrNames.disabledClass),f.prop("checked")&&g.addClass(e.elAttrNames.checkedClass),"function"==typeof e.onInit&&e.onInit(f,g,a),g.on({"click.nosui":function(){if(!NosUIApp.form.isDisabled(f,g,e.elAttrNames.disabledClass)){var d=b(this);d.toggleClass(e.elAttrNames.checkedClass),f.prop("checked")?(f.prop("checked",!1),d.data("nosui-checked",!1)):(f.prop("checked",!0),d.data("nosui-checked",!0)),"function"==typeof e.onClick&&e.onClick(f,g,a)}},"mousedown.nosui":function(){NosUIApp.form.isDisabled(f,g,e.elAttrNames.disabledClass)||(g.addClass(e.elAttrNames.mousedownClass),b("body").on("mouseup.nosui",function(){g.removeClass(e.elAttrNames.mousedownClass),b("body").off("mouseup.nosui")}),"function"==typeof e.onMousedown&&e.onMousedown(f,g,a))},"mouseup.nosui":function(){g.removeClass(e.elAttrNames.mousedownClass),b("body").off("mouseup.nosui")}})})},nosInputRadio:function(a,c){return this.each(function(d,e){var f={elAttrNames:{fauxElClass:"",inputClass:"-text",disabledClass:"--disabled",checkedClass:"--checked",mousedownClass:"--mousedown"},namespace:"nosui-form-radio",onInit:null,onClick:null,onMousedown:null},g=NosUIApp.defineOptions(f,a),h=b(e);if(NosUIApp.matchElType(b('input[type="radio"]'),h),c===!0)return h.prev("."+g.elAttrNames.fauxElClass).off().remove(),h.show(),void 0;var i=h.attr("name"),j=h.closest("form").length?h.closest("form"):b("body"),k=j.find('input[type="radio"]').filter(function(){return b(this).attr("name")==i}).not(h),l=b("<div />",{"class":g.elAttrNames.fauxElClass}).data(NosUIApp.namespace+"-name",i).data(NosUIApp.namespace+"-checked",h.prop("checked")).insertBefore(h.hide());l.data(NosUIApp.namespace+"-checked")&&l.addClass(g.elAttrNames.checkedClass),NosUIApp.form.isDisabled(h,l,g.elAttrNames.disabledClass)||("function"==typeof g.onInit&&g.onInit(h,l,g),l.on({"click.nosui":function(){if(!NosUIApp.form.isDisabled(h,l,g.elAttrNames.disabledClass)){var c=j.find("."+g.elAttrNames.fauxElClass).filter(function(){return b(this).data(NosUIApp.namespace+"-name")==i?!0:!1}).not(l);l.addClass(g.elAttrNames.checkedClass),c.removeClass(g.elAttrNames.checkedClass),h.prop("checked",!0),l.data(NosUIApp.namespace+"-checked",!0),k.prop("checked",!1),c.data(NosUIApp.namespace+"-checked",!1),"function"==typeof g.onClick&&g.onClick(h,l,g)}},"mousedown.nosui":function(){NosUIApp.form.isDisabled(h,l,g.elAttrNames.disabledClass)||(l.addClass(g.elAttrNames.mousedownClass),b("body").on("mouseup.nosui",function(){l.removeClass(g.elAttrNames.mousedownClass),b("body").off("mouseup.nosui")}),"function"==typeof g.onMousedown&&g.onMousedown(h,l,g))},"mouseup.nosui":function(){l.removeClass(g.elAttrNames.mousedownClass),b("body").off("mouseup.nosui")}}))})},nosInputFile:function(a,c){return this.each(function(){var d={elAttrNames:{elClass:"__element",fauxElClass:"",disabledClass:"--disabled",buttonClass:"__button",placeholderClass:"__placeholder"},namespace:"nosui-form-file",placeholderText:"No file chosen",buttonText:"Choose File",onInit:null,onChange:null},e=NosUIApp.defineOptions(d,a),f=b(this);if(NosUIApp.matchElType(b('input[type="file"]'),f),c===!0)return f.off("change.nosui").removeClass(e.elAttrNames.elClass).siblings().remove().end().unwrap("."+e.elAttrNames.fauxElClass),void 0;f.addClass(e.elAttrNames.elClass);var g=b("<div />",{"class":e.elAttrNames.fauxElClass}),h=b("<div />",{"class":e.elAttrNames.placeholderClass,text:e.placeholderText}),i=b("<div />",{"class":e.elAttrNames.buttonClass,text:e.buttonText});NosUIApp.form.isDisabled(f,g,e.elAttrNames.disabledClass),f.wrap(g).before(h,i),"function"==typeof e.onInit&&e.onInit(f,$fauxCheckbox,e),f.on({"change.nosui":function(){h.text(f.val()),"function"==typeof e.onChange&&e.onChange(f,g,e)}})})},nosTooltip:function(a){return this.each(function(){var c={elAttrNames:{popup:"nosui-tooltip__popup",container:"nosui-tooltip",dataName:"nosui-tooltip"},text:null},d=NosUIApp.defineOptions(c,a),e=b(this),f=b("<div />",{"class":d.elAttrNames.container}),g=b("<div />",{"class":d.elAttrNames.popup,text:d.text?d.text:e.data(d.elAttrNames.dataName)});e.wrap(f).after(g)})},nosResponsiveImages:function(c,d){function f(b){var d=b.get(0).attributes,f={};for(a=0;a<d.length;a++){var g=d[a].name.toLowerCase(),h=d[a].value;-1!==g.indexOf("data-")&&(g=g.substring(5),b.data(g),f[g]=h)}return jQuery.isEmptyObject(f)||(b.data("src-"+e,b.attr("src")),f["src-"+e]=b.attr("src")),!jQuery.isEmptyObject(f)}function g(){var a=b(window).width();b.each(NosUIApp.elList.responsiveImages,function(c,d){var f=d.data(),g=e;b.each(f,function(b){var d=parseFloat(b.substring(3));d>g&&a>d&&(g=d)});var h=d.data("src-"+g);d.attr("src",h)})}var k,e=0,h=b(window),j=(h.width(),this.length-1);return h.off("resize.nosui-responsive-image").on("resize.nosui-responsive-image",function(){"undefined"!=typeof k&&window.clearTimeout(k),k=window.setTimeout(g,200)}),this.each(function(a,h){var i={elAttrNames:{elClass:""},minResponsiveWidth:0,namespace:"nosui-responsive-image"},k=NosUIApp.defineOptions(i,c),h=b(this);if(d)return h.attr("src",h.data("src-"+e)).removeClass(k.elAttrNames.elClass),NosUIApp.elList.responsiveImages=b.grep(NosUIApp.elList.responsiveImages,function(a){return a.get(0)!==h.get(0)}),void 0;var l=f(h);l!==!1&&(h.addClass(k.elAttrNames.elClass),NosUIApp.matchElType(b("img"),h),NosUIApp.elList.responsiveImages.push(h),a===j&&g())})}})}(jQuery);