/*
* jQuery NOs 0.6
*
* Dual licensed under the MIT or GPL Version 2 licenses.
*/
(function($,undefined){window.NosUIApp={defineOptions:function(defaults,options){if(typeof options!=="object"&&typeof defaults!=="object")return{};else if(typeof options==="object"&&typeof defaults==="object"){$.extend(true,defaults,options);if(typeof defaults.elAttrNames==="object"&&typeof defaults.nameSpace==="string")NosUIApp.applyCssNameSpace(defaults.elAttrNames,defaults.nameSpace);return defaults}else if(typeof options!=="object"){if(typeof defaults.elAttrNames==="object"&&typeof defaults.nameSpace===
"string")NosUIApp.applyCssNameSpace(defaults.elAttrNames,defaults.nameSpace);return defaults}else if(typeof defaults!=="object")return options},form:{isDisabled:function($el,$fauxEl,className){if(typeof $el=="undefined")throw new Error("missing $el parameter");else if(typeof $fauxEl=="undefined")throw new Error("missing $fauxEl parameter");else if(typeof className=="undefined")throw new Error("missing className parameter");if($el.prop("disabled")){$fauxEl.addClass(className);return true}else{$fauxEl.removeClass(className);
return false}}},applyCssNameSpace:function(elAttrNames,nameSpace){$.each(elAttrNames,function(k,v){if(typeof v==="object")NosUIApp.applyCssNameSpace(elAttrNames[k],nameSpace);else elAttrNames[k]=nameSpace+v})}};$.fn.extend({nosInputPlaceholder:function(options,disableMethod){var defaults={placeholder:null};options=NosUIApp.defineOptions(defaults,options);return this.each(function(){var $el=$(this);if(typeof options.placeholder==="string")val=options.placeholder;else val=$el.attr("placeholder");if(typeof val!==
"string")return;function focusInput(){if(typeof options.onFocus==="function")options.onFocus($el);if($el.val()==val)$el.val("")}function blurInput(){if(typeof options.onBlur==="function")options.onBlur($el);if($el.val()=="")$el.val(val)}$el.val(val);$el.off({"focus.placeholder":focusInput,"blur.placeholder":blurInput});if(disableMethod===true)return;$el.on({"focus.placeholder":focusInput,"blur.placeholder":blurInput})})},nosFormSelect:function(options,disableMethod){var defaults={elAttrNames:{typeDefault:{"defaultClass":"--default",
"dataName":"-type-default"},typeCustom:{"defaultClass":"--custom","dataName":"-type-custom","dataSelected":"-selected","listClass":"__list","itemClass":"__item","activeItemClass":"__item--active"},"elClass":"__element","fauxElClass":"","activeClass":"--active","disabledClass":"--disabled","dropdownButtonClass":"__dropdown-button","placeholderClass":"__placeholder"},nameSpace:"nosui-form-select",placeholder:null,onClick:null,onChange:null,onBlur:null};options=NosUIApp.defineOptions(defaults,options);
return this.each(function(){var $el=$(this),$elOptions=$el.find("option");$el.addClass(options.elAttrNames.elClass);if(disableMethod===true&&$el.data(options.elAttrNames.typeDefault.dataName)){$el.data(options.elAttrNames.typeDefault.dataName,false).off().unwrap();return}else if(disableMethod===true&&$el.data(options.elAttrNames.typeCustom.dataName)){$el.data(options.elAttrNames.typeCustom.dataName,false).show();$el.prev().off().find("."+options.elAttrNames.typeCustom.itemClass).off().end().remove();
return}if(options.defaultDropdown==true){$el.data(options.elAttrNames.typeDefault.dataName,true).addClass(options.elAttrNames.elClass).wrap($("<div />",{"class":options.elAttrNames.fauxElClass+" "+options.elAttrNames.typeDefault.defaultClass,"id":$el.attr("id")?options.elAttrNames.fauxElClass+"-"+$el.attr("id"):""}));var $fauxSelect=$el.parent(),$selectedOption=$elOptions.filter(function(){return $(this).prop("selcted")===true}),placeholderText=$selectedOption.length?$selectedOption.text():$elOptions.first().text(),
$placeholder=$("<div />",{"class":options.elAttrNames.placeholderClass,"text":placeholderText}).prependTo($fauxSelect);NosUIApp.form.isDisabled($el,$fauxSelect,options.elAttrNames.disabledClass);$el.on({click:function(e){NosUIApp.form.isDisabled($el,$fauxSelect,options.elAttrNames.disabledClass);$fauxSelect.toggleClass(options.elAttrNames.activeClass);if(typeof options.onClick==="function")options.onClick($el,$fauxSelect)},change:function(e){var text=$el.find(":selected").text();$placeholder.text(text);
if(typeof options.onChange==="function")options.onChange($el,$fauxSelect)},blur:function(e){$fauxSelect.removeClass(options.elAttrNames.active);if(typeof options.onBlur==="function")options.onBlur($el,$fauxSelect)}})}else{$el.data(options.elAttrNames.typeCustom.dataName,true);function toggleDropdown($fauxSelect){$fauxSelect.toggleClass(options.elAttrNames.activeClass).find("."+options.elAttrNames.typeCustom.listClass).toggle()}var $fauxSelect=$("<div />",{"class":options.elAttrNames.fauxElClass+" "+
options.elAttrNames.typeCustom.defaultClass,"id":$el.attr("id")?options.elAttrNames.fauxElClass+"-"+$el.attr("id"):""});NosUIApp.form.isDisabled($el,$fauxSelect,options.elAttrNames.disabledClass);$el.hide().before($fauxSelect);var $list=$("<div />",{"class":options.elAttrNames.typeCustom.listClass}).appendTo($fauxSelect).hide(),$dropdownButton=$("<div />",{"class":options.elAttrNames.dropdownButtonClass}).appendTo($fauxSelect);$elOptions.each(function(i){$("<div />",{"class":i==0?options.elAttrNames.typeCustom.activeItemClass+
" "+options.elAttrNames.typeCustom.itemClass:options.elAttrNames.typeCustom.itemClass,"text":$(this).text()}).data(options.elAttrNames.typeCustom.dataSelected,$(this).prop("selected")).appendTo($list)});var $fauxOptions=$fauxSelect.find("."+options.elAttrNames.typeCustom.itemClass),$fauxSelectedOption=$fauxOptions.filter(function(){return $(this).data(options.elAttrNames.typeCustom.dataSelected)});if(!$fauxSelectedOption.length)$fauxSelectedOption=$fauxOptions.eq(0);var $placeholder=$("<div />",{"class":options.elAttrNames.placeholderClass,
"text":options.placeholder?options.placeholder:$fauxSelectedOption.text()}).insertBefore($list);NosUIApp.form.isDisabled($el,$fauxSelect,options.elAttrNames.disabledClass);$fauxSelect.on({click:function(e){if(NosUIApp.form.isDisabled($el,$fauxSelect,options.elAttrNames.disabledClass)===true)return;if(typeof options.onClick==="function")options.onClick($el,$fauxSelect);toggleDropdown($fauxSelect)}});$fauxOptions.on({click:function(e){e.stopPropagation();var $this=$(this),index=$this.index(),text=$this.text();
$this.addClass(options.elAttrNames.typeCustom.activeItemClass).siblings().removeClass(options.elAttrNames.typeCustom.activeItemClass);$placeholder.text(text);$elOptions.prop("selected",false).eq(index).prop("selected",true);if(typeof options.onChange==="function")options.onChange($el,$fauxSelect);toggleDropdown($fauxSelect)}})}})},nosInputCheckbox:function(options,disableMethod){var defaults={elAttrNames:{"fauxElClass":"","disabledClass":"--disabled","checkedClass":"--checked"},nameSpace:"nosui-form-checkbox",
onClick:null};options=NosUIApp.defineOptions(defaults,options);return this.each(function(){var $el=$(this);if(disableMethod===true){$el.prev("."+options.elAttrNames.fauxElClass).off().remove();$el.show();return}var $fauxCheckbox=$("<div />",{"class":options.elAttrNames.fauxElClass+" "+options.elAttrNames.inputClass}).insertBefore($el.hide());NosUIApp.form.isDisabled($el,$fauxCheckbox,options.elAttrNames.disabledClass);if($el.prop("checked"))$fauxCheckbox.addClass(options.elAttrNames.checkedClass);
$fauxCheckbox.on({click:function(){var $this=$(this);if(NosUIApp.form.isDisabled($el,$fauxCheckbox,options.elAttrNames.disabledClass))return;$this.toggleClass(options.elAttrNames.checkedClass);if($el.prop("checked"))$el.prop("checked",false);else $el.prop("checked",true);if(typeof options.onClick==="function")options.onClick($el,$fauxCheckbox)}})})},nosInputRadio:function(options,disableMethod){var defaults={elAttrNames:{"fauxElClass":"","inputClass":"-text","disabledClass":"--disabled","checkedClass":"--checked",
"dataName":"-name"},nameSpace:"nosui-form-radio",onClick:null};options=NosUIApp.defineOptions(defaults,options);return this.each(function(){var $el=$(this);if(disableMethod===true){$el.prev("."+options.elAttrNames.fauxElClass).off().remove();$el.show();return}var elName=$el.attr("name"),$elSiblings=$('input[type="radio"]').filter(function(){return $(this).attr("name")==elName}).not($el),$fauxCheckbox=$("<div />",{"class":options.elAttrNames.fauxElClass}).data(options.elAttrNames.dataName,elName).insertBefore($el.hide());
if($el.prop("checked"))$fauxCheckbox.addClass(options.elAttrNames.checkedClass);if(NosUIApp.form.isDisabled($el,$fauxCheckbox,options.elAttrNames.disabledClass))return;$fauxCheckbox.on({click:function(){if(NosUIApp.form.isDisabled($el,$fauxCheckbox,options.elAttrNames.disabledClass))return;var $this=$(this),fauxDataName=$fauxCheckbox.data(options.elAttrNames.dataName),$fauxSiblings=$("."+options.elAttrNames.fauxElClass).filter(function(){return $(this).data(options.elAttrNames.dataName)==fauxDataName?
true:false}).not($this);$this.addClass(options.elAttrNames.checkedClass);$fauxSiblings.removeClass(options.elAttrNames.checkedClass);$el.prop("checked",true);$elSiblings.prop("checked",false);if(typeof options.onClick==="function")options.onClick($el,$fauxCheckbox)}})})},nosInputFile:function(options,disableMethod){var defaults={elAttrNames:{"elClass":"__element","fauxElClass":"","disabledClass":"--disabled","placeholderClass":"__placeholder"},nameSpace:"nosui-form-file",placeholder:null,onChange:null};
options=NosUIApp.defineOptions(defaults,options);return this.each(function(){var $el=$(this);$el.addClass(options.elAttrNames.elClass);var $fauxInputFile=$("<div />",{"class":options.elAttrNames.fauxElClass}),$placeholder=$("<span />",{"class":options.elAttrNames.placeholderClass,"text":options.placeholder?options.placeholder:""});NosUIApp.form.isDisabled($el,$fauxInputFile,options.elAttrNames.disabledClass);$el.wrap($fauxInputFile).before($placeholder);$el.on({change:function(){$placeholder.text($el.val());
if(typeof options.onChange==="function")options.onChange($el,$fauxInputFile)}})})},nosTooltip:function(options){var defaults={elAttrNames:{"popup":"nosui-tooltip__popup","container":"nosui-tooltip","dataName":"nosui-tooltip"}};options=NosUIApp.defineOptions(defaults,options);return this.each(function(){var $el=$(this),$container=$("<div />",{"class":options.elAttrNames.container}),$tooltip=$("<div />",{"class":options.elAttrNames.popup,"text":options.text?options.text:$el.data(options.elAttrNames.dataName)});
$el.wrap($container).after($tooltip)})}})})(jQuery);