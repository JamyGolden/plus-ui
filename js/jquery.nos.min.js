(function(e,t){window.NosUIApp={namespace:"nosui",defineOptions:function(t,n){if(typeof n!=="object"&&typeof t!=="object"){return{}}else if(typeof n==="object"&&typeof t==="object"){e.extend(true,t,n);if(typeof t.elAttrNames==="object"&&typeof t.namespace==="string"){NosUIApp.applyCssNamespace(t.elAttrNames,t.namespace)}return t}else if(typeof n!=="object"){if(typeof t.elAttrNames==="object"&&typeof t.namespace==="string"){NosUIApp.applyCssNamespace(t.elAttrNames,t.namespace)}return t}else if(typeof t!=="object"){return n}},matchElType:function(e,t){var n=t.get(0);if(!e.filter(t).length){var r=NosUIApp.getFullElSelector(t);throw new Error("Incorrect element type targetted with the NOS-UI script. Element: "+r)}},getFullElSelector:function(e){var t=e.get(0),n=t.id,r=n!==""?"#"+n:"",i=t.getAttribute("class"),s=i?"."+i.trim().split(" ").join("."):"",o=r+s;return o},form:{isDisabled:function(e,t,n){if(typeof e=="undefined"){throw new Error("missing $el parameter")}else if(typeof t=="undefined"){throw new Error("missing $fauxEl parameter")}else if(typeof n=="undefined"){throw new Error("missing className parameter")}if(e.prop("disabled")){t.addClass(n);return true}else{t.removeClass(n);return false}}},applyCssNamespace:function(t,n){e.each(t,function(e,r){if(typeof r==="object"){NosUIApp.applyCssNamespace(t[e],n)}else{t[e]=n+r}})}};e.fn.extend({nosInputPlaceholder:function(t,n){var r={placeholder:null};t=NosUIApp.defineOptions(r,t);return this.each(function(){function i(){if(typeof t.onFocus==="function"){t.onFocus(r)}if(r.val()==val){r.val("")}}function s(){if(typeof t.onBlur==="function"){t.onBlur(r)}if(r.val()==""){r.val(val)}}var r=e(this);NosUIApp.matchElType(e("input"),r);if(typeof t.placeholder==="string"){val=t.placeholder}else{val=r.attr("placeholder")}if(typeof val!=="string"){return}r.val(val);r.off({"focus.nosui-placeholder":i,"blur.nosui-placeholder":s});if(n===true){return}r.on({"focus.nosui-placeholder":i,"blur.nosui-placeholder":s})})},nosFormSelect:function(t,n){var r={elAttrNames:{typeDefault:{defaultClass:"--default",dataName:"-type-default"},typeCustom:{defaultClass:"--custom",dataName:"-type-custom",dataSelected:"-selected",listClass:"__list",itemClass:"__item",activeItemClass:"__item--active",firstItemClass:"__item--first",lastItemClass:"__item--last"},elClass:"-element",fauxElClass:"",activeClass:"--active",mousedownClass:"--mousedown",disabledClass:"--disabled",dropdownButtonClass:"__dropdown-button",placeholderClass:"__placeholder"},namespace:"nosui-form-select",isOpen:false,hideOnFocusLoss:true,onInit:null,onClick:null,onChange:null,onMousedown:null,onBlur:null};t=NosUIApp.defineOptions(r,t);return this.each(function(){var r=e(this);NosUIApp.matchElType(e("select"),r);if(!r.closest("form").length>0){throw new Error("This element does not have an ancestor form element. Element: "+NosUIApp.getFullElSelector(r))}var i=r.find("option"),s=i.filter(function(){return e(this).prop("selcted")===true});r.addClass(t.elAttrNames.elClass);if(n===true&&r.data(t.elAttrNames.typeDefault.dataName)){r.data(t.elAttrNames.typeDefault.dataName,false).off({"click.nosui":null,"change.nosui":null,"blur.nosui":null}).unwrap();return}else if(n===true&&r.data(t.elAttrNames.typeCustom.dataName)){r.data(t.elAttrNames.typeCustom.dataName,false).show();r.prev().off({"click.nosui":null,"change.nosui":null}).find("."+t.elAttrNames.typeCustom.itemClass).off({"click.nosui":null,"change.nosui":null}).end().remove();return}if(t.defaultDropdown==true){r.data(t.elAttrNames.typeDefault.dataName,true).addClass(t.elAttrNames.elClass).wrap(e("<div />",{"class":t.elAttrNames.fauxElClass+" "+t.elAttrNames.typeDefault.defaultClass,id:r.attr("id")?t.elAttrNames.fauxElClass+"-"+r.attr("id"):""}));var o=r.attr("name")?r.attr("name"):null;l=r.parent();l.data("name",o);var u=s.length?s.text():i.first().text(),a=e("<div />",{"class":t.elAttrNames.placeholderClass,text:u}).prependTo(l);NosUIApp.form.isDisabled(r,l,t.elAttrNames.disabledClass);if(typeof t.onInit==="function"){t.onInit(r,l,t)}r.on({"click.nosui":function(e){NosUIApp.form.isDisabled(r,l,t.elAttrNames.disabledClass);l.toggleClass(t.elAttrNames.activeClass);if(typeof t.onClick==="function"){t.onClick(r,l,t)}},"change.nosui":function(e){var n=r.find(":selected").text();a.text(n);if(typeof t.onChange==="function"){t.onChange(r,l,t)}},"blur.nosui":function(e){l.removeClass(t.elAttrNames.active);if(typeof t.onBlur==="function"){t.onBlur(r,l,t)}}})}else{r.data(t.elAttrNames.typeCustom.dataName,true);function f(n){n.toggleClass(t.elAttrNames.activeClass);c.toggle();if(c.is(":hidden")){t.isOpen=false}else{t.isOpen=true}if(t.hideOnFocusLoss){if(t.isOpen){e("body").on("click.nosui",function(e){f(n)})}else{e("body").off("click.nosui")}}}var o=r.attr("name")?r.attr("name"):null,l=e("<div />",{"class":t.elAttrNames.fauxElClass+" "+t.elAttrNames.typeCustom.defaultClass,id:r.attr("id")?t.elAttrNames.fauxElClass+"-"+r.attr("id"):""}).data("name",o);NosUIApp.form.isDisabled(r,l,t.elAttrNames.disabledClass);r.hide().before(l);var c=e("<div />",{"class":t.elAttrNames.typeCustom.listClass}).appendTo(l).hide(),h=e("<div />",{"class":t.elAttrNames.dropdownButtonClass}).appendTo(l);i.each(function(n){e("<div />",{"class":n==0?t.elAttrNames.typeCustom.activeItemClass+" "+t.elAttrNames.typeCustom.itemClass:t.elAttrNames.typeCustom.itemClass,text:e(this).text()}).data(NosUIApp.namespace+"-selected",e(this).prop("selected")).appendTo(c)});var p=l.find("."+t.elAttrNames.typeCustom.itemClass),d=p.filter(function(){return e(this).data(NosUIApp.namespace+"-selected")});p.first().addClass(t.elAttrNames.typeCustom.firstItemClass);p.last().addClass(t.elAttrNames.typeCustom.lastItemClass);if(!d.length){d=p.eq(0)}var a=e("<div />",{"class":t.elAttrNames.placeholderClass,text:d.text()}).insertBefore(c);NosUIApp.form.isDisabled(r,l,t.elAttrNames.disabledClass);if(typeof t.onInit==="function"){t.onInit(r,l,t)}l.on({"click.nosui":function(e){if(t.hideOnFocusLoss){e.stopPropagation()}if(NosUIApp.form.isDisabled(r,l,t.elAttrNames.disabledClass)===true){return}if(typeof t.onClick==="function"){t.onClick(r,l,t)}f(l)},"mousedown.nosui":function(n){if(NosUIApp.form.isDisabled(r,l,t.elAttrNames.disabledClass)){return}l.addClass(t.elAttrNames.mousedownClass);e("body").on("mouseup.nosui",function(n){l.removeClass(t.elAttrNames.mousedownClass);e("body").off("mouseup.nosui")});if(typeof t.onMousedown==="function"){t.onMousedown(r,l,t)}},"mouseup.nosui":function(n){l.removeClass(t.elAttrNames.mousedownClass);e("body").off("mouseup.nosui")}});p.on({"click.nosui":function(n){n.stopPropagation();var s=e(this),o=s.index(),u=s.text();s.addClass(t.elAttrNames.typeCustom.activeItemClass).data("nosui-selected","selected").siblings().removeClass(t.elAttrNames.typeCustom.activeItemClass).data("nosui-selected",null);a.text(u);i.prop("selected",false).eq(o).prop("selected",true);p.data(NosUIApp.namespace+"selected",false).eq(o).data(NosUIApp.namespace+"selected",true);r.change();if(typeof t.onChange==="function"){t.onChange(r,l,t)}f(l)}})}})},nosInputCheckbox:function(t,n){var r={elAttrNames:{fauxElClass:"",disabledClass:"--disabled",checkedClass:"--checked",mousedownClass:"--mousedown"},namespace:"nosui-form-checkbox",onInit:null,onClick:null,onMousedown:null};t=NosUIApp.defineOptions(r,t);return this.each(function(){var r=e(this);NosUIApp.matchElType(e('input[type="checkbox"]'),r);if(!r.closest("form").length>0){throw new Error("This element does not have an ancestor form element. Element: "+NosUIApp.getFullElSelector(r))}if(n===true){r.prev("."+t.elAttrNames.fauxElClass).off().remove();r.show();return}var i=e("<div />",{"class":t.elAttrNames.fauxElClass+" "+t.elAttrNames.inputClass}).data("nosui-checked",r.prop("checked")).insertBefore(r.hide());NosUIApp.form.isDisabled(r,i,t.elAttrNames.disabledClass);if(r.prop("checked")){i.addClass(t.elAttrNames.checkedClass)}if(typeof t.onInit==="function"){t.onInit(r,i,t)}i.on({"click.nosui":function(n){if(NosUIApp.form.isDisabled(r,i,t.elAttrNames.disabledClass)){return}var s=e(this);s.toggleClass(t.elAttrNames.checkedClass);if(r.prop("checked")){r.prop("checked",false);s.data("nosui-checked",false)}else{r.prop("checked",true);s.data("nosui-checked",true)}if(typeof t.onClick==="function"){t.onClick(r,i,t)}},"mousedown.nosui":function(n){if(NosUIApp.form.isDisabled(r,i,t.elAttrNames.disabledClass)){return}i.addClass(t.elAttrNames.mousedownClass);e("body").on("mouseup.nosui",function(n){i.removeClass(t.elAttrNames.mousedownClass);e("body").off("mouseup.nosui")});if(typeof t.onMousedown==="function"){t.onMousedown(r,i,t)}},"mouseup.nosui":function(n){i.removeClass(t.elAttrNames.mousedownClass);e("body").off("mouseup.nosui")}})})},nosInputRadio:function(t,n){var r={elAttrNames:{fauxElClass:"",inputClass:"-text",disabledClass:"--disabled",checkedClass:"--checked",mousedownClass:"--mousedown",dataName:"-name"},namespace:"nosui-form-radio",onInit:null,onClick:null,onMousedown:null};t=NosUIApp.defineOptions(r,t);return this.each(function(r,i){var s=e(i);NosUIApp.matchElType(e('input[type="radio"]'),s);if(!s.closest("form").length>0){throw new Error("This element does not have an ancestor form element. Element: "+NosUIApp.getFullElSelector(s))}if(n===true){s.prev("."+t.elAttrNames.fauxElClass).off().remove();s.show();return}t.elName=s.attr("name");var o=s.closest("form").find('input[type="radio"]').filter(function(){return e(this).attr("name")==t.elName}).not(s),u=e("<div />",{"class":t.elAttrNames.fauxElClass}).data(NosUIApp.namespace+"-name",t.elName).data(NosUIApp.namespace+"-checked",s.prop("checked")).insertBefore(s.hide());if(u.data(NosUIApp.namespace+"-checked")){u.addClass(t.elAttrNames.checkedClass)}if(NosUIApp.form.isDisabled(s,u,t.elAttrNames.disabledClass)){return}if(typeof t.onInit==="function"){t.onInit(s,u,t)}u.on({"click.nosui":function(n){if(NosUIApp.form.isDisabled(s,u,t.elAttrNames.disabledClass)){return}var r=u.closest("form").find("."+t.elAttrNames.fauxElClass).filter(function(){if(e(this).data(NosUIApp.namespace+"-name")==t.elName){return true}else{return false}}).not(u);u.addClass(t.elAttrNames.checkedClass);r.removeClass(t.elAttrNames.checkedClass);s.prop("checked",true);u.data(NosUIApp.namespace+"-checked",true);o.prop("checked",false);r.data(NosUIApp.namespace+"-checked",false);if(typeof t.onClick==="function"){t.onClick(s,u,t)}},"mousedown.nosui":function(n){if(NosUIApp.form.isDisabled(s,u,t.elAttrNames.disabledClass)){return}u.addClass(t.elAttrNames.mousedownClass);e("body").on("mouseup.nosui",function(n){u.removeClass(t.elAttrNames.mousedownClass);e("body").off("mouseup.nosui")});if(typeof t.onMousedown==="function"){t.onMousedown(s,u,t)}},"mouseup.nosui":function(n){u.removeClass(t.elAttrNames.mousedownClass);e("body").off("mouseup.nosui")}})})},nosInputFile:function(t,n){var r={elAttrNames:{elClass:"__element",fauxElClass:"",disabledClass:"--disabled",placeholderClass:"__placeholder"},namespace:"nosui-form-file",placeholder:"No file chosen",onInit:null,onChange:null};t=NosUIApp.defineOptions(r,t);return this.each(function(){var n=e(this);NosUIApp.matchElType(e('input[type="file"]'),n);if(!n.closest("form").length>0){throw new Error("This element does not have an ancestor form element. Element: "+NosUIApp.getFullElSelector(n))}n.addClass(t.elAttrNames.elClass);var r=e("<div />",{"class":t.elAttrNames.fauxElClass}),i=e("<span />",{"class":t.elAttrNames.placeholderClass,text:t.placeholder});NosUIApp.form.isDisabled(n,r,t.elAttrNames.disabledClass);n.wrap(r).before(i);if(typeof t.onInit==="function"){t.onInit(n,$fauxCheckbox,t)}n.on({change:function(){i.text(n.val());if(typeof t.onChange==="function"){t.onChange(n,r)}}})})},nosTooltip:function(t){var n={elAttrNames:{popup:"nosui-tooltip__popup",container:"nosui-tooltip",dataName:"nosui-tooltip"},text:null};t=NosUIApp.defineOptions(n,t);return this.each(function(){var n=e(this),r=e("<div />",{"class":t.elAttrNames.container}),i=e("<div />",{"class":t.elAttrNames.popup,text:t.text?t.text:n.data(t.elAttrNames.dataName)});n.wrap(r).after(i)})}})})(jQuery)