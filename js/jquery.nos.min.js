/*
* jQuery NOs 0.9.10
*
* Dual licensed under the MIT or GPL Version 2 licenses.
*/
(function($,undefined){window.NosUIApp={namespace:"nosui",defineOptions:function(defaults,options){if(typeof options!=="object"&&typeof defaults!=="object")return NosUIApp.createPrivateMethods({});else if(typeof options==="object"&&typeof defaults==="object"){$.extend(true,defaults,options);if(typeof defaults.elAttrNames==="object"&&typeof defaults.namespace==="string")NosUIApp.applyCssNamespace(defaults.elAttrNames,defaults.namespace);return NosUIApp.createPrivateMethods(defaults)}else if(typeof options!==
"object"){if(typeof defaults.elAttrNames==="object"&&typeof defaults.namespace==="string")NosUIApp.applyCssNamespace(defaults.elAttrNames,defaults.namespace);return NosUIApp.createPrivateMethods(defaults)}else if(typeof defaults!=="object")return NosUIApp.createPrivateMethods(options)},createPrivateMethods:function(obj){obj._dom={};return obj},matchElType:function($elType,$el){var el=$el.get(0);if(!$elType.filter($el).length){var elSelector=NosUIApp.getFullElSelector($el);throw new Error("Incorrect element type targetted with the NOS-UI script. Element: "+
elSelector+". Or a jQuery object not yet attached to the DOM is being used.");}},getFullElSelector:function($el){var el=$el.get(0),elAttrId=el.id,elIdSelector=elAttrId!==""?"#"+elAttrId:"",elAttrClass=el.getAttribute("class"),elClassSelector=elAttrClass?"."+elAttrClass.trim().split(" ").join("."):"",elSelector=elIdSelector+elClassSelector;return elSelector},form:{isDisabled:function($el,$fauxEl,className){if(typeof $el=="undefined")throw new Error("missing $el parameter");else if(typeof $fauxEl==
"undefined")throw new Error("missing $fauxEl parameter");else if(typeof className=="undefined")throw new Error("missing className parameter");if($el.prop("disabled")){$fauxEl.addClass(className);return true}else{$fauxEl.removeClass(className);return false}}},applyCssNamespace:function(elAttrNames,nameSpace){$.each(elAttrNames,function(k,v){if(typeof v==="object"&&v!==null)NosUIApp.applyCssNamespace(elAttrNames[k],nameSpace);else if(typeof v==="string")elAttrNames[k]=nameSpace+v})},elList:{responsiveImages:[]}};
$.fn.extend({nosInputPlaceholder:function(options,disableMethod){return this.each(function(){var defaults={elAttrNames:{elClass:"",hasPlaceholderClass:"--placeholder-active"},namespace:"nosui-input-placeholder",placeholder:null},o=NosUIApp.defineOptions(defaults,options);o._dom.$el=$(this);NosUIApp.matchElType($("input"),o._dom.$el);if(disableMethod===true){disable();return}function disable(){o._dom.$el.off().removeClass(o.elAttrNames.hasPlaceholderClass).val("")}function init(){if(typeof o.placeholder===
"string")o._dom.$el.attr("placeholder",o.placeholder);o._dom.val=o._dom.$el.attr("placeholder");if(typeof o._dom.val!=="string")return;o._dom.$el.addClass(o.elAttrNames.elClass);blurInput()}function focusInput(){if(typeof o.onFocus==="function")o.onFocus(o._dom.$el);if(o._dom.$el.val()==o._dom.val)o._dom.$el.removeClass(o.elAttrNames.hasPlaceholderClass).val("")}function blurInput(){if(typeof o.onBlur==="function")o.onBlur(o._dom.$el);if(o._dom.$el.val()=="")o._dom.$el.addClass(o.elAttrNames.hasPlaceholderClass).val(o._dom.val)}
function events(){o._dom.$el.off({"focus.nosui-placeholder":focusInput,"blur.nosui-placeholder":blurInput});o._dom.$el.on({"focus.nosui-placeholder":focusInput,"blur.nosui-placeholder":blurInput})}init();events()})},nosFormSelect:function(options,disableMethod){return this.each(function(){var defaults={elAttrNames:{typeDefault:{"defaultClass":"--default"},typeCustom:{"defaultClass":"--custom","dataSelected":"-selected","listClass":"__list","itemClass":"__item","activeItemClass":"__item--active","firstItemClass":"__item--first",
"lastItemClass":"__item--last"},"elClass":"-element","fauxElClass":"","activeClass":"--active","mousedownClass":"--mousedown","disabledClass":"--disabled","dropdownButtonClass":"__dropdown-button","placeholderClass":"__placeholder","dataName":"-type"},namespace:"nosui-form-select",defaultDropdown:false,isOpen:false,onInit:null,onClick:null,onChange:null,onMousedown:null,onBlur:null};if(!options||typeof options!=="object")options={};if(typeof $(this).data("nosui-namespace")==="string")options.namespace=
$(this).data("nosui-namespace");var o=NosUIApp.defineOptions(defaults,options);o._dom.$el=$(this);NosUIApp.matchElType($("select"),o._dom.$el);if(disableMethod===true&&o._dom.$el.data(o.elAttrNames.dataName)=="custom"){o._dom.$el.removeClass(o.elAttrNames.elClass).data(o.elAttrNames.dataName,null).show();o._dom.$el.prev().off().find("."+o.elAttrNames.typeCustom.itemClass).off().end().remove();return}else if(disableMethod===true){o._dom.$el.removeClass(o.elAttrNames.elClass).data(o.elAttrNames.dataName,
null).off({"click.nosui-form-select":null,"change.nosui-form-select":null,"blur.nosui-form-select":null}).siblings().remove();o._dom.$el.unwrap();return}o._dom.$elOptions=o._dom.$el.find("option");o._dom.$selectedOption=o._dom.$elOptions.filter(function(){return $(this).prop("selcted")===true});o._dom.$el.addClass(o.elAttrNames.elClass).data("nosui-namespace",o.namespace);if(o.defaultDropdown==true){function initDefault(){o._dom.$el.data(o.elAttrNames.dataName,"default").addClass(o.elAttrNames.elClass).wrap($("<div />",
{"class":o.elAttrNames.fauxElClass+" "+o.elAttrNames.typeDefault.defaultClass,"id":o._dom.$el.attr("id")?o.elAttrNames.fauxElClass+"-"+o._dom.$el.attr("id"):""}));o._dom.elName=o._dom.$el.attr("name")?o._dom.$el.attr("name"):null;o._dom.$fauxSelect=o._dom.$el.parent();o._dom.$fauxSelect.data("name",o._dom.elName);var placeholderText=o._dom.$selectedOption.length?o._dom.$selectedOption.text():o._dom.$elOptions.first().text();o._dom.$placeholder=$("<div />",{"class":o.elAttrNames.placeholderClass,"text":placeholderText}).prependTo(o._dom.$fauxSelect),
o._dom.$dropdownButton=$("<div />",{"class":o.elAttrNames.dropdownButtonClass}).insertAfter(o._dom.$placeholder);NosUIApp.form.isDisabled(o._dom.$el,o._dom.$fauxSelect,o.elAttrNames.disabledClass);if(typeof o.onInit==="function")o.onInit(o._dom.$el,o._dom.$fauxSelect,o)}function eventsDefault(){o._dom.$el.on({"focus.nosui-form-select":function(e){NosUIApp.form.isDisabled(o._dom.$el,o._dom.$fauxSelect,o.elAttrNames.disabledClass);o._dom.$fauxSelect.toggleClass(o.elAttrNames.activeClass);if(typeof o.onClick===
"function")o.onClick(o._dom.$el,o._dom.$fauxSelect,o)},"change.nosui-form-select":function(e){var text=o._dom.$el.find(":selected").text();o._dom.$placeholder.text(text);if(typeof o.onChange==="function")o.onChange(o._dom.$el,o._dom.$fauxSelect,o)},"blur.nosui-form-select":function(e){o._dom.$fauxSelect.removeClass(o.elAttrNames.activeClass);if(typeof o.onBlur==="function")o.onBlur(o._dom.$el,o._dom.$fauxSelect,o)}})}initDefault();eventsDefault()}else{function initCustom(){o._dom.$el.data(o.elAttrNames.dataName,
"custom");o._dom.elName=o._dom.$el.attr("name")?o._dom.$el.attr("name"):null,o._dom.$fauxSelect=$("<div />",{"class":o.elAttrNames.fauxElClass+" "+o.elAttrNames.typeCustom.defaultClass,"id":o._dom.$el.attr("id")?o.elAttrNames.fauxElClass+"-"+o._dom.$el.attr("id"):""}).data("name",o._dom.elName);NosUIApp.form.isDisabled(o._dom.$el,o._dom.$fauxSelect,o.elAttrNames.disabledClass);o._dom.$el.hide().before(o._dom.$fauxSelect);o._dom.$fauxSelectList=$("<div />",{"class":o.elAttrNames.typeCustom.listClass}).appendTo(o._dom.$fauxSelect).hide();
o._dom.$dropdownButton=$("<div />",{"class":o.elAttrNames.dropdownButtonClass}).appendTo(o._dom.$fauxSelect);o._dom.$elOptions.each(function(i){$("<div />",{"class":i==0?o.elAttrNames.typeCustom.activeItemClass+" "+o.elAttrNames.typeCustom.itemClass:o.elAttrNames.typeCustom.itemClass,"text":$(this).text()}).data(NosUIApp.namespace+"-selected",$(this).prop("selected")).appendTo(o._dom.$fauxSelectList)});o._dom.$fauxOptions=o._dom.$fauxSelect.find("."+o.elAttrNames.typeCustom.itemClass);o._dom.$fauxSelectedOption=
o._dom.$fauxOptions.filter(function(){return $(this).data(NosUIApp.namespace+"-selected")});o._dom.$fauxOptions.first().addClass(o.elAttrNames.typeCustom.firstItemClass);o._dom.$fauxOptions.last().addClass(o.elAttrNames.typeCustom.lastItemClass);if(!o._dom.$fauxSelectedOption.length)o._dom.$fauxSelectedOption=$fauxOptions.eq(0);o._dom.$placeholder=$("<div />",{"class":o.elAttrNames.placeholderClass,"text":o._dom.$fauxSelectedOption.text()}).insertBefore(o._dom.$fauxSelectList);NosUIApp.form.isDisabled(o._dom.$el,
o._dom.$fauxSelect,o.elAttrNames.disabledClass);if(typeof o.onInit==="function")o.onInit(o._dom.$el,o._dom.$fauxSelect,o)}function eventsCustom(){o._dom.$el.on({"change.nosui-form-select":function(e){reflectChange(e)}});o._dom.$fauxSelect.on({"click.nosui-form-select":function(e){if(NosUIApp.form.isDisabled(o._dom.$el,o._dom.$fauxSelect,o.elAttrNames.disabledClass)===true)return;if(typeof o.onClick==="function")o.onClick(o._dom.$el,$fauxSelect,o);toggleDropdown(o._dom.$fauxSelect)},"mousedown.nosui-form-select":function(e){if(NosUIApp.form.isDisabled(o._dom.$el,
o._dom.$fauxSelect,o.elAttrNames.disabledClass))return;if(o.isOpen)e.stopPropagation();o._dom.$fauxSelect.addClass(o.elAttrNames.mousedownClass);$("body").on("mouseup.nosui-form-select",function(e){o._dom.$fauxSelect.removeClass(o.elAttrNames.mousedownClass);$("body").off("mouseup.nosui-form-select")});if(typeof o.onMousedown==="function")o.onMousedown(o._dom.$el,o._dom.$fauxSelect,o)},"mouseup.nosui-form-select":function(e){o._dom.$fauxSelect.removeClass(o.elAttrNames.mousedownClass);$("body").off("mouseup.nosui-form-select")}});
o._dom.$fauxOptions.on({"mousedown.nosui-form-select":function(e){selectOption($(this))}})}function toggleDropdown($fauxSelect){if(o.isOpen==false)showDropdown(o._dom.$fauxSelect);else hideDropdown(o._dom.$fauxSelect)}function showDropdown($fauxSelect){o._dom.$fauxSelect.addClass(o.elAttrNames.activeClass);o._dom.$fauxSelectList.show();$("body").on("mousedown.nosui-form-select",function(e){hideDropdown(o._dom.$fauxSelect)});o.isOpen=true}function hideDropdown($fauxSelect){o._dom.$fauxSelectList.hide();
o.isOpen=false;$("body").off("mousedown.nosui-form-select");o._dom.$fauxSelect.removeClass(o.elAttrNames.activeClass)}function selectOption($fauxOption){var index=$fauxOption.index(),text=$fauxOption.text();o._dom.$elOptions.prop("selected",false).eq(index).prop("selected",true);o._dom.$el.change()}function reflectChange(e){o._dom.$selectedOption=o._dom.$el.find("option:selected");var index=o._dom.$selectedOption.index();o._dom.$fauxSelectedOption=o._dom.$fauxOptions.eq(index);var text=o._dom.$fauxSelectedOption.text();
o._dom.$fauxSelectedOption.addClass(o.elAttrNames.typeCustom.activeItemClass).data("nosui-selected","selected").siblings().removeClass(o.elAttrNames.typeCustom.activeItemClass).data("nosui-selected",null);o._dom.$placeholder.text(text);o._dom.$elOptions.prop("selected",false).eq(index).prop("selected",true);o._dom.$fauxOptions.data(NosUIApp.namespace+"selected",false).eq(index).data(NosUIApp.namespace+"selected",true);if(typeof o.onChange==="function")o.onChange(o._dom.$el,o._dom.$fauxSelect,o)}initCustom();
eventsCustom()}})},nosInputCheckbox:function(options,disableMethod){return this.each(function(){var defaults={elAttrNames:{"fauxElClass":"","disabledClass":"--disabled","checkedClass":"--checked","mousedownClass":"--mousedown"},namespace:"nosui-form-checkbox",onInit:null,onChange:null,onMousedown:null},o=NosUIApp.defineOptions(defaults,options);o._dom.$el=$(this);NosUIApp.matchElType($('input[type="checkbox"]'),o._dom.$el);if(disableMethod===true){disable();return}function disable(){o._dom.$el.prev("."+
o.elAttrNames.fauxElClass).off().remove();o._dom.$el.show()}function init(){o._dom.$fauxEl=$("<div />",{"class":o.elAttrNames.fauxElClass+" "+o.elAttrNames.inputClass}).data("nosui-checked",o._dom.$el.prop("checked")).insertBefore(o._dom.$el.hide());NosUIApp.form.isDisabled(o._dom.$el,o._dom.$fauxEl,o.elAttrNames.disabledClass);if(o._dom.$el.prop("checked"))o._dom.$fauxEl.addClass(o.elAttrNames.checkedClass);if(typeof o.onInit==="function")o.onInit(o._dom.$el,o._dom.$fauxEl,o)}function reflectChange(e){o._dom.$fauxEl.toggleClass(o.elAttrNames.checkedClass);
if(o._dom.$el.prop("checked"))o._dom.$el.data("nosui-checked",true);else o._dom.$el.data("nosui-checked",false);if(typeof o.onChange==="function")o.onChange(o._dom.$el,o._dom.$fauxEl,o)}function events(){o._dom.$el.on({"change.nosui":reflectChange});o._dom.$fauxEl.on({"click.nosui":function(e){if(NosUIApp.form.isDisabled(o._dom.$el,o._dom.$fauxEl,o.elAttrNames.disabledClass))return;if(o._dom.$el.prop("checked"))o._dom.$el.prop("checked",false);else o._dom.$el.prop("checked",true);o._dom.$el.change()},
"mousedown.nosui":function(e){if(NosUIApp.form.isDisabled(o._dom.$el,o._dom.$fauxEl,o.elAttrNames.disabledClass))return;o._dom.$fauxEl.addClass(o.elAttrNames.mousedownClass);$("body").on("mouseup.nosui",function(e){o._dom.$fauxEl.removeClass(o.elAttrNames.mousedownClass);$("body").off("mouseup.nosui")});if(typeof o.onMousedown==="function")o.onMousedown(o._dom.$el,o._dom.$fauxEl,o)},"mouseup.nosui":function(e){o._dom.$fauxEl.removeClass(o.elAttrNames.mousedownClass);$("body").off("mouseup.nosui")}})}
init();events()})},nosInputRadio:function(options,disableMethod){return this.each(function(i,el){var defaults={elAttrNames:{"fauxElClass":"","inputClass":"-text","disabledClass":"--disabled","checkedClass":"--checked","mousedownClass":"--mousedown"},namespace:"nosui-form-radio",onInit:null,onChange:null,onMousedown:null},o=NosUIApp.defineOptions(defaults,options);o._dom.$el=$(el);NosUIApp.matchElType($('input[type="radio"]'),o._dom.$el);if(disableMethod===true){disable();return}function disable(){o._dom.$el.prev("."+
o.elAttrNames.fauxElClass).off().remove();o._dom.$el.show()}function init(){o._dom.elName=o._dom.$el.attr("name");o._dom.$elContainerForm=o._dom.$el.closest("form").length?o._dom.$el.closest("form"):$("body");o._dom.$elSiblings=o._dom.$elContainerForm.find('input[type="radio"]').filter(function(){return $(this).attr("name")==o._dom.elName}).not(o._dom.$el);o._dom.$fauxEl=$("<div />",{"class":o.elAttrNames.fauxElClass}).data(NosUIApp.namespace+"-name",o._dom.elName).data(NosUIApp.namespace+"-checked",
o._dom.$el.prop("checked")).insertBefore(o._dom.$el.hide());if(o._dom.$fauxEl.data(NosUIApp.namespace+"-checked"))o._dom.$fauxEl.addClass(o.elAttrNames.checkedClass);if(NosUIApp.form.isDisabled(o._dom.$el,o._dom.$fauxEl,o.elAttrNames.disabledClass))return;if(typeof o.onInit==="function")o.onInit(o._dom.$el,o._dom.$fauxEl,o)}function reflectChange(e){o._dom.$fauxSiblings=o._dom.$elContainerForm.find("."+o.elAttrNames.fauxElClass).filter(function(i,el){if($(el).data(NosUIApp.namespace+"-name")==o._dom.elName)return true;
else return false}).not(o._dom.$fauxEl);o._dom.$fauxSiblings.data(NosUIApp.namespace+"-checked",false).removeClass(o.elAttrNames.checkedClass);o._dom.$fauxEl.data(NosUIApp.namespace+"-checked",true).addClass(o.elAttrNames.checkedClass);if(typeof o.onChange==="function")o.onChange(o._dom.$el,o._dom.$fauxEl,o)}function events(){o._dom.$el.on({"change.nosui":reflectChange});o._dom.$fauxEl.on({"click.nosui":function(e){if(NosUIApp.form.isDisabled(o._dom.$el,o._dom.$fauxEl,o.elAttrNames.disabledClass))return;
o._dom.$elSiblings.prop("checked",false);o._dom.$el.prop("checked",true);reflectChange(e)},"mousedown.nosui":function(e){if(NosUIApp.form.isDisabled(o._dom.$el,o._dom.$fauxEl,o.elAttrNames.disabledClass))return;o._dom.$fauxEl.addClass(o.elAttrNames.mousedownClass);$("body").on("mouseup.nosui",function(e){o._dom.$fauxEl.removeClass(o.elAttrNames.mousedownClass);$("body").off("mouseup.nosui")});if(typeof o.onMousedown==="function")o.onMousedown(o._dom.$el,o._dom.$fauxEl,o)},"mouseup.nosui":function(e){o._dom.$fauxEl.removeClass(o.elAttrNames.mousedownClass);
$("body").off("mouseup.nosui")}})}init();events()})},nosInputFile:function(options,disableMethod){return this.each(function(){var defaults={elAttrNames:{"elClass":"__element","fauxElClass":"","disabledClass":"--disabled","buttonClass":"__button","placeholderClass":"__placeholder"},namespace:"nosui-form-file",placeholderText:"No file chosen",buttonText:"Choose File",onInit:null,onChange:null},o=NosUIApp.defineOptions(defaults,options);o._dom.$el=$(this);NosUIApp.matchElType($('input[type="file"]'),
o._dom.$el);if(disableMethod===true){disable();return}function disable(){o._dom.$el.off("change.nosui").removeClass(o.elAttrNames.elClass).siblings().remove().end().unwrap("."+o.elAttrNames.fauxElClass)}function init(){o._dom.$el.addClass(o.elAttrNames.elClass);o._dom.$fauxEl=$("<div />",{"class":o.elAttrNames.fauxElClass});o._dom.$placeholder=$("<div />",{"class":o.elAttrNames.placeholderClass,"text":o.placeholderText});o._dom.$button=$("<div />",{"class":o.elAttrNames.buttonClass,"text":o.buttonText});
NosUIApp.form.isDisabled(o._dom.$el,o._dom.$fauxEl,o.elAttrNames.disabledClass);o._dom.$el.wrap(o._dom.$fauxEl).before(o._dom.$placeholder,o._dom.$button);if(typeof o.onInit==="function")o.onInit(o._dom.$el,o._dom.$fauxEl,o)}function events(){o._dom.$el.on({"change.nosui":function(){o._dom.$placeholder.text(o._dom.$el.val());if(typeof o.onChange==="function")o.onChange(o._dom.$el,o._dom.$fauxEl,o)}})}init();events()})},nosTooltip:function(options){return this.each(function(){var defaults={elAttrNames:{"popup":"nosui-tooltip__popup",
"container":"nosui-tooltip","dataName":"nosui-tooltip"},text:null},o=NosUIApp.defineOptions(defaults,options),$el=$(this),$container=$("<div />",{"class":o.elAttrNames.container}),$tooltip=$("<div />",{"class":o.elAttrNames.popup,"text":o.text?o.text:$el.data(o.elAttrNames.dataName)});$el.wrap($container).after($tooltip)})},nosResponsiveImages:function(options,disableMethod){var minResponsiveWidth=0;function setDataAttr($el){var responsiveStateList=[],attrList=$el.get(0).attributes,attrMap={};for(a=
0;a<attrList.length;a++){var attrKey=attrList[a].name.toLowerCase(),attrVal=attrList[a].value;if(attrKey.indexOf("data-")!==-1)attrKey=attrKey.substring(5);else continue;$el.data(attrKey);attrMap[attrKey]=attrVal}if(!jQuery.isEmptyObject(attrMap)){$el.data("src-"+minResponsiveWidth,$el.attr("src"));attrMap["src-"+minResponsiveWidth]=$el.attr("src")}return!jQuery.isEmptyObject(attrMap)}function setImage(){var windowWidth=$(window).width();$.each(NosUIApp.elList.responsiveImages,function(i,$respEl){var dataAttr=
$respEl.data(),activeResponsiveWidth=minResponsiveWidth;$.each(dataAttr,function(k,v){var keyWidth=parseFloat(k.substring(3));if(keyWidth>activeResponsiveWidth&&keyWidth<windowWidth)activeResponsiveWidth=keyWidth});var newSrc=$respEl.data("src-"+activeResponsiveWidth);$respEl.attr("src",newSrc)})}var $window=$(window),windowWidth=$window.width(),lastElIndex=this.length-1,scrollTimeout;$window.off("resize.nosui-responsive-image").on("resize.nosui-responsive-image",function(){if(typeof scrollTimeout!==
"undefined")window.clearTimeout(scrollTimeout);scrollTimeout=window.setTimeout(setImage,200)});return this.each(function(i,$el){var defaults={elAttrNames:{"elClass":""},minResponsiveWidth:0,namespace:"nosui-responsive-image"},o=NosUIApp.defineOptions(defaults,options),$el=$(this);if(disableMethod){$el.attr("src",$el.data("src-"+minResponsiveWidth)).removeClass(o.elAttrNames.elClass);NosUIApp.elList.responsiveImages=$.grep(NosUIApp.elList.responsiveImages,function($grepEl,i){return $grepEl.get(0)!==
$el.get(0)});return}var elAttributesExist=setDataAttr($el);if(elAttributesExist===false)return;$el.addClass(o.elAttrNames.elClass);NosUIApp.matchElType($("img"),$el);NosUIApp.elList.responsiveImages.push($el);if(i===lastElIndex)setImage()})},nosInputRange:function(options,disableMethod){return this.each(function(){var defaults={elAttrNames:{"elClass":"-element","fauxElClass":"","container":"","sliderClass":"__slider","handleClass":"__handle"},namespace:"nosui-input-range",timeoutThrottle:0,onInit:null,
onChange:null},o=NosUIApp.defineOptions(defaults,options);o._dom.$el=$(this);NosUIApp.matchElType($("input"),o._dom.$el);if(disableMethod===true){disable();return}function disable(){o._dom.$el.show().prev().off().children().off();o._dom.$el.prev().remove()}function elValueFilter(){if(o.valueVal<o.minVal){o.valueVal=o.minVal;o._dom.$el.val(o.valueVal)}else if(o.valueVal>o.maxVal){o.valueVal=o.maxVal;o._dom.$el.val(o.valueVal)}}function nextStep(percVal){var stepPerc=o.stepVal/(o.maxVal-o.minVal)*100,
rem=percVal%stepPerc;if(rem<=stepPerc/2)return percVal-rem;else return percVal+stepPerc-rem}function setPosition(xPos){var fauxElWidth=o._dom.$fauxEl.width(),xPerc=xPos/fauxElWidth*100,xPerc=nextStep(xPerc);if(xPerc<0)xPerc=0;else if(xPerc>100)xPerc=100;o.valueVal=Math.round((o.maxVal-o.minVal)*xPerc/100+o.minVal);elValueFilter();o._dom.$el.val(o.valueVal).trigger("change");o._dom.$handle.css("left",xPerc+"%");if(typeof o.onChange==="function")o.onChange(o._dom.$el,o._dom.$fauxEl,o)}function reflectInputVal(e){o.valueVal=
o._dom.$el.val();elValueFilter();var valPos=nextStep((o.valueVal-o.minVal)/(o.maxVal-o.minVal)*100);o._dom.$handle.css("left",valPos+"%")}function init(){o.stepVal=o._dom.$el.attr("step")?parseFloat(o._dom.$el.attr("step")):1;o.minVal=o._dom.$el.attr("min")?parseFloat(o._dom.$el.attr("min")):0;o.maxVal=o._dom.$el.attr("max")?parseFloat(o._dom.$el.attr("max")):100;if(o.minVal>o.maxVal)o.maxVal=o.minVal;o.valueVal=o._dom.$el.val()?parseFloat(o._dom.$el.val()):o.minVal+(o.maxVal-o.minVal)/2;elValueFilter();
o._dom.$fauxEl=$("<div />",{"class":o.elAttrNames.fauxElClass});o._dom.$slider=$("<div />",{"class":o.elAttrNames.sliderClass}).appendTo(o._dom.$fauxEl);o._dom.$handle=$("<div />",{"class":o.elAttrNames.handleClass}).appendTo(o._dom.$fauxEl);o._dom.$el.hide().addClass(o.elAttrNames.elClass).val(o.valueVal).on({"change.nosui":reflectInputVal});o._dom.$fauxEl.on({"click.nosui":function(e){var xPos=e.pageX-o._dom.$fauxEl.offset().left;setPosition(xPos)}}).insertBefore(o._dom.$el);reflectInputVal(o.valueVal);
o._dom.$handle.on({"click.nosui":function(e){e.preventDefault();e.stopPropagation()},"mousedown.nosui":function(e){e.preventDefault();o._dom.$el.off("change.nosui");var handleOffset=e.pageX-o._dom.$handle.offset().left;$("body").on({"mousemove.nosui":function(e){e.preventDefault();if(typeof o.timeoutThrottle!=="undefined")window.clearTimeout(o.timeoutThrottle);o.timeoutThrottle=window.setTimeout(function(){var xPos=e.pageX-o._dom.$fauxEl.offset().left;setPosition(xPos)},5)}});$("body").on("mouseup.nosui",
function(){$("body").off("mousemove.nosui");$("body").off("mouseup.nosui");o._dom.$el.on("change.nosui",reflectInputVal)})}});if(typeof o.onInit==="function")o.onInit(o._dom.$el,o._dom.$fauxEl,o)}init()})}})})(jQuery);